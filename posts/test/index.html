<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Test | chyen&#39;s blog</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  <body>
    <nav>
    <ul class="menu">
      
    </ul>
    <hr/>
    </nav>
    <script type="text/javascript"
        async
        src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[\[','\]\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});

MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<style>
code.has-jax {
    font: inherit;
    font-size: 100%;
    background: inherit;
    border: inherit;
    color: #515151;
}
</style>


<div class="article-meta">
<h1><span class="title">Test</span></h1>

<h2 class="date">2022/06/28</h2>
</div>

<main>
<p>總共有 $ T $ 筆詢問，每筆詢問會給定一個正整數 $N(N \leq 10^7)$ ，求 :
$$ \sum_{i=1}^{n} \frac{n}{gcd(i,n)} $$</p>
<hr>
<p>如果考慮枚舉 $gcd(i,n)$ ，這樣一來可以得到原式等於 :
$$ \sum_{k \mid n} \frac{n}{k} \sum_{i=1}^{\frac{n}{k}}[\space gcd(i,\frac{n}{k})=1\space] $$
可以發現 $\sum_{i=1}^{k}[gcd(i,k)=1]$ 其實就等於 $\varphi(k)$ ，於是我們可以預處理 $\varphi(n)$ ，並且對於所有正整數 $i$ ，把 $i$ 的倍數都加上 $i \times \varphi(i)$ ，這樣一來就可以得到整體複雜度為 $O(T+NlogN)$ 的解法了。</p>

</main>

  <footer>
  
  
  </footer>
  </body>
</html>

